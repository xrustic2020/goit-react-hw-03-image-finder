{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","services/Api.js","App.jsx","cat.jpg","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","evt","preventDefault","type","aria-label","onChange","target","value","autoComplete","autoFocus","placeholder","Modal","image","alt","onClose","useEffect","window","addEventListener","handler","removeEventListener","code","currentTarget","Overlay","onClick","src","modalRoot","document","querySelector","ImageGalleryItem","name","largeImage","isOpen","setIsOpen","prev","createPortal","Button","ImageGallery","data","onNextPage","query","length","map","img","webformatURL","tags","largeImageURL","id","notFound","Loading","container","color","height","width","API_KEY","Api","page","fetch","then","response","json","hits","App","setQuery","setData","setPage","loading","setLoading","API","images","finally","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","Loader","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c225cd11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2sS3i\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__YnWND\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Hruz\",\"Modal\":\"Modal_Modal__1cJIX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1O8de\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3g5Lf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__22r22\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__WKb3W\",\"SearchForm\":\"Searchbar_SearchForm__vTaTN\",\"SearchForm-button\":\"Searchbar_SearchForm-button__q8enR\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__JTg2l\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3Hz7P\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BsSearch } from 'react-icons/bs';\r\nimport s from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    onSubmit(searchQuery);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button\r\n          type=\"submit\"\r\n          aria-label=\"Искать картинки\"\r\n          className={s['SearchForm-button']}\r\n        >\r\n          <span className={s['SearchForm-button-label']}>\r\n            <BsSearch />\r\n          </span>\r\n        </button>\r\n\r\n        <input\r\n          className={s['SearchForm-input']}\r\n          type=\"text\"\r\n          onChange={evt => setSearchQuery(evt.target.value)}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\n// class Searchbar extends Component {\r\n//   state = {\r\n//     searchQuery: '',\r\n//   };\r\n\r\n//   handlerInput = evt => {\r\n//     this.setState({ searchQuery: evt.target.value });\r\n//   };\r\n\r\n//   handleSubmit = evt => {\r\n//     evt.preventDefault();\r\n//     this.props.onSubmit(this.state.searchQuery);\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <header className={s.Searchbar}>\r\n//         <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n//           <button\r\n//             type=\"submit\"\r\n//             aria-label=\"Искать картинки\"\r\n//             className={s['SearchForm-button']}\r\n//           >\r\n//             <span className={s['SearchForm-button-label']}>\r\n//               <BsSearch />\r\n//             </span>\r\n//           </button>\r\n\r\n//           <input\r\n//             className={s['SearchForm-input']}\r\n//             type=\"text\"\r\n//             onChange={this.handlerInput}\r\n//             autoComplete=\"off\"\r\n//             autoFocus\r\n//             placeholder=\"Search images and photos\"\r\n//           />\r\n//         </form>\r\n//       </header>\r\n//     );\r\n//   }\r\n// }\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst Modal = ({ image, alt, onClose }) => {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handler);\r\n    return () => window.removeEventListener('keydown', handler);\r\n  });\r\n\r\n  const handler = evt => {\r\n    if (evt.code === 'Escape' || evt.currentTarget !== evt.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.Overlay} onClick={handler}>\r\n      <div className={s.Modal}>\r\n        <img src={image} alt={alt} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  image: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport Modal from 'components/Modal';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst ImageGalleryItem = ({ image, name, largeImage }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={() => setIsOpen(prev => !prev)}>\r\n      <img src={image} alt={name} className={s['ImageGalleryItem-image']} />\r\n      {isOpen &&\r\n        createPortal(\r\n          <Modal\r\n            image={largeImage}\r\n            alt={name}\r\n            onClose={() => setIsOpen(prev => !prev)}\r\n          />,\r\n          modalRoot,\r\n        )}\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Button from 'components/Button';\r\n\r\nconst ImageGallery = ({ data, onNextPage, query }) => {\r\n  return (\r\n    <>\r\n      {data.length > 0 ? (\r\n        <>\r\n          <ul className={s.ImageGallery}>\r\n            {data.map(img => (\r\n              <ImageGalleryItem\r\n                key={img.id}\r\n                image={img.webformatURL}\r\n                name={img.tags}\r\n                largeImage={img.largeImageURL}\r\n              />\r\n            ))}\r\n          </ul>\r\n\r\n          <Button onClick={onNextPage} />\r\n        </>\r\n      ) : (\r\n        <h2 className={s.notFound}>\r\n          По запросу \"{query}\" ничего не найдено, попробуй ещё раз\r\n        </h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.array,\r\n  onNextPage: PropTypes.func.isRequired,\r\n  query: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={s.container}>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","const API_KEY = '19804146-226f6b2b23308d5d1fd703e5d';\r\n// const BASE_URL = `https://pixabay.com/api/?q=поиск&page=1&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\nfunction Api(query, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(response => response.json())\r\n    .then(data => data.hits);\r\n}\r\n\r\nexport default Api;\r\n","import { useState, useEffect } from 'react';\r\nimport s from './App.module.css';\r\n\r\nimport Searchbar from 'components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport Loader from 'components/Loader';\r\n\r\nimport API from './services/Api';\r\nimport './cat.jpg';\r\n\r\nconst App = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [data, setData] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onNextPage = () => {\r\n    setPage(prevState => prevState + 1);\r\n    setLoading(true);\r\n  };\r\n\r\n  const scrolling = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const onSubmit = searchQuery => {\r\n    setQuery(searchQuery);\r\n    setLoading(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (query) {\r\n      API(query)\r\n        .then(images => setData(images))\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    if (page > 1) {\r\n      setTimeout(() => {\r\n        API(query, page)\r\n          .then(images => setData(prev => [...prev, ...images]))\r\n          .finally(() => {\r\n            setLoading(false);\r\n            setTimeout(scrolling(), 500);\r\n          });\r\n      }, 2000);\r\n    }\r\n  }, [page]);\r\n\r\n  return (\r\n    <div className={s.App}>\r\n      <Searchbar onSubmit={onSubmit} />\r\n      {loading && <Loader />}\r\n      {data && (\r\n        <ImageGallery data={data} onNextPage={onNextPage} query={query} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","export default __webpack_public_path__ + \"static/media/cat.a7d3c578.jpg\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jUTXd\",\"notFound\":\"ImageGallery_notFound__1UfvG\"};"],"sourceRoot":""}