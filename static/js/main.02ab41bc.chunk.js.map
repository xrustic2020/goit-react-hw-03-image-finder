{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","services/Api.js","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handlerInput","evt","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","aria-label","onChange","autoComplete","autoFocus","placeholder","Component","Modal","handler","code","currentTarget","onClose","window","addEventListener","removeEventListener","Overlay","onClick","src","image","alt","modalRoot","document","querySelector","ImageGalleryItem","isOpen","toggleModal","prev","name","createPortal","largeImage","Button","ImageGallery","data","length","map","img","webformatURL","tags","largeImageURL","id","onNextPage","style","textAlign","query","Loading","container","color","height","width","API_KEY","Api","page","fetch","then","response","json","hits","App","isLoading","prevState","setData","scrolling","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","API","images","finally","setTimeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.02ab41bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2sS3i\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__YnWND\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Hruz\",\"Modal\":\"Modal_Modal__1cJIX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1O8de\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jUTXd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3g5Lf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__22r22\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BsSearch } from 'react-icons/bs';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  handlerInput = evt => {\r\n    this.setState({ searchQuery: evt.target.value });\r\n  };\r\n\r\n  handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    this.props.onSubmit(this.state.searchQuery);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button\r\n            type=\"submit\"\r\n            aria-label=\"Искать картинки\"\r\n            className={s['SearchForm-button']}\r\n          >\r\n            <span className={s['SearchForm-button-label']}>\r\n              <BsSearch />\r\n            </span>\r\n          </button>\r\n\r\n          <input\r\n            className={s['SearchForm-input']}\r\n            type=\"text\"\r\n            onChange={this.handlerInput}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handler);\r\n  }\r\n\r\n  handler = evt => {\r\n    if (evt.code === 'Escape' || evt.currentTarget !== evt.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handler}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.image} alt={this.props.alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport Modal from 'components/Modal';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    isOpen: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(prev => ({ isOpen: !prev.isOpen }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className={s.ImageGalleryItem} onClick={this.toggleModal}>\r\n        <img\r\n          src={this.props.image}\r\n          alt={this.props.name}\r\n          className={s['ImageGalleryItem-image']}\r\n        />\r\n        {this.state.isOpen &&\r\n          createPortal(\r\n            <Modal\r\n              image={this.props.largeImage}\r\n              alt={this.props.name}\r\n              onClose={this.toggleModal}\r\n            />,\r\n            modalRoot,\r\n          )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button type=\"button\" onClick={this.props.onClick} className={s.Button}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Button from 'components/Button';\r\n\r\nclass ImageGallery extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.data && <></>}\r\n        {this.props.data.length > 0 ? (\r\n          <>\r\n            <ul className={s.ImageGallery}>\r\n              {this.props.data.map(img => (\r\n                <ImageGalleryItem\r\n                  key={img.id}\r\n                  image={img.webformatURL}\r\n                  name={img.tags}\r\n                  largeImage={img.largeImageURL}\r\n                />\r\n              ))}\r\n            </ul>\r\n\r\n            <Button onClick={this.props.onNextPage} />\r\n          </>\r\n        ) : (\r\n          <h2 style={{ textAlign: 'center' }}>\r\n            По запросу \"{this.props.query}\" ничего не найдено, попробуй ещё раз\r\n          </h2>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.array,\r\n  onNextPage: PropTypes.func.isRequired,\r\n  query: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className={s.container}>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","const API_KEY = '19804146-226f6b2b23308d5d1fd703e5d';\r\n// const BASE_URL = `https://pixabay.com/api/?q=поиск&page=1&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\nfunction Api(query, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(response => response.json())\r\n    .then(data => data.hits);\r\n}\r\n\r\nexport default Api;\r\n","import { Component } from 'react';\r\n\r\nimport s from './App.module.css';\r\n\r\nimport Searchbar from 'components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport Loader from 'components/Loader';\r\n\r\nimport API from './services/Api';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    query: '',\r\n    data: null,\r\n    page: 1,\r\n    isLoading: false,\r\n  };\r\n\r\n  onNextPage = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  setData = response => {\r\n    this.setState({ data: response });\r\n  };\r\n\r\n  scrolling = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page } = this.state;\r\n\r\n    if (query !== prevState.query) {\r\n      this.setState({ data: null, isLoading: true });\r\n      API(query)\r\n        .then(images => this.setState({ page: 1, data: images }))\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    }\r\n    if (page > prevState.page) {\r\n      API(query, page)\r\n        .then(images =>\r\n          this.setState(prev => ({ data: [...prev.data, ...images] })),\r\n        )\r\n        .finally(() => {\r\n          setTimeout(this.scrolling(), 500);\r\n        });\r\n    }\r\n  }\r\n\r\n  onSubmit = searchQuery => {\r\n    this.setState({ query: searchQuery, isLoading: true });\r\n  };\r\n\r\n  render() {\r\n    const { data, isLoading } = this.state;\r\n\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.onSubmit} />\r\n        {data && (\r\n          <ImageGallery\r\n            data={data}\r\n            onNextPage={this.onNextPage}\r\n            query={this.state.query}\r\n          />\r\n        )}\r\n        {isLoading && <Loader />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__WKb3W\",\"SearchForm\":\"Searchbar_SearchForm__vTaTN\",\"SearchForm-button\":\"Searchbar_SearchForm-button__q8enR\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__JTg2l\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3Hz7P\"};"],"sourceRoot":""}